var map;DG.then(function(){map=DG.map("map",{center:[53.33382659358545,83.77051591873179],zoom:17,zoomControl:!0,geoclicker:!1,scrollWheelZoom:!1,fullscreenControl:!1}),DG.marker([53.33382659358545,83.77051591873179]).addTo(map)}),function(){function e(e){this.modal=document.getElementById(e.modal),this.wrapper=document.getElementById(e.wrapper),this.photoBox=this.modal.firstElementChild,this.imgBig=document.createElement("img"),this.img=this.wrapper.getElementsByTagName("img"),this.coord=function(){var e={};return e.body=document.body,e.docEl=document.documentElement,e.scrollTop=window.pageYOffset||docEl.scrollTop||e.body.scrollTop,e.clientHeight=e.docEl.clientHeight||e.body.clientHeight,e.clientWidth=e.docEl.clientWidth||e.bodybody.clientWidth,e},this.modalShow=function(){var e=this.coord();this.modal.classList.add("is-block"),this.modal.style.height=e.docEl.scrollHeight+"px"},this.showPhoto=function(){var e=this;if(void 0!=this.wrapper)for(var t=0;t<this.img.length;t++)this.img[t].addEventListener("click",function(t){t.stopPropagation();e.coord();e.modalShow(),setTimeout(function(){console.log(e.imgBig),e.addStyle()},500),e.imgBig.src=this.src.slice(0,-10)+".jpg",n.appendChild(e.imgBig),window.addEventListener("resize",function(t){e.addStyle()})});window.addEventListener("click",function(t){t.target==i&&(e.imgBig.style.opacity="0",e.modal.classList.remove("is-block"),document.body.style.overflow="auto",n.innerHTML="")})},this.addStyle=function(){var e=document.createElement("a"),t=document.createElement("img");e.id="close_button",e.classList.add("close_button"),t.src="images/close.svg",e.appendChild(t);var o=this,i=this.coord();console.log(o.imgBig),this.imgBig.style.maxWidth=i.clientWidth-40+"px",this.imgBig.style.maxHeight=i.clientHeight-40+"px",this.imgBig.style.top=(i.clientHeight-this.imgBig.height)/2+i.scrollTop+"px",this.imgBig.style.left=(i.clientWidth-this.imgBig.width)/2+"px",this.imgBig.style.opacity="1",this.imgBig.parentElement.appendChild(e),console.log(this.imgBig.getBoundingClientRect())},this.showPhotoCoord=function(){console.log(this.imgBig.getBoundingClientRect())}}var t=document.getElementsByClassName("logo-box__logo")[0],o=t.firstElementChild;setTimeout(function(){t.classList.add("is-visible")},500),Modernizr.svg||(o.src="images/logo.png");var i=(document.getElementById("photos-wrapper"),document.getElementById("modal-wrapper")),n=i.firstElementChild;document.createElement("img");new e({wrapper:"photos-wrapper",modal:"modal-wrapper"}).showPhoto(),window.addEventListener("scroll",function(e){})}(),function(e){e.extend({browserSelector:function(){var e=navigator.userAgent,t=e.toLowerCase(),o=function(e){return t.indexOf(e)>-1},i="gecko",n="webkit",r="safari",a="opera",l=document.documentElement,s=[!/opera|webtv/i.test(t)&&/msie\s(\d)/.test(t)?"ie ie"+parseFloat(navigator.appVersion.split("MSIE")[1]):o("firefox/2")?i+" ff2":o("firefox/3.5")?i+" ff3 ff3_5":o("firefox/3")?i+" ff3":o("gecko/")?i:o("opera")?a+(/version\/(\d+)/.test(t)?" "+a+RegExp.jQuery1:/opera(\s|\/)(\d+)/.test(t)?" "+a+RegExp.jQuery2:""):o("konqueror")?"konqueror":o("chrome")?n+" chrome":o("iron")?n+" iron":o("applewebkit/")?n+" "+r+(/version\/(\d+)/.test(t)?" "+r+RegExp.jQuery1:""):o("mozilla/")?i:"",o("j2me")?"mobile":o("iphone")?"iphone":o("ipod")?"ipod":o("mac")?"mac":o("darwin")?"mac":o("webtv")?"webtv":o("win")?"win":o("freebsd")?"freebsd":o("x11")||o("linux")?"linux":"","js"];c=s.join(" "),l.className+=" "+c}})}(jQuery),function(e){e.extend({smoothScroll:function(){function e(){var e=!1;if(document.URL.indexOf("google.com/reader/view")>-1&&(e=!0),y.excluded){var t=y.excluded.split(/[,\n] ?/);t.push("mail.google.com");for(var o=t.length;o--;)if(document.URL.indexOf(t[o])>-1){w&&w.disconnect(),s("mousewheel",i),e=!0,b=!0;break}}e&&s("keydown",n),y.keyboardSupport&&!e&&c("keydown",n)}function t(){if(document.body){var t=document.body,o=document.documentElement,i=window.innerHeight,n=t.scrollHeight;if(B=document.compatMode.indexOf("CSS")>=0?o:t,p=t,e(),k=!0,top!=self)x=!0;else if(n>i&&(t.offsetHeight<=i||o.offsetHeight<=i)){var r=!1,a=function(){r||o.scrollHeight==document.height||(r=!0,setTimeout(function(){o.style.height=document.height+"px",r=!1},500))};o.style.height="auto",setTimeout(a,10);var l={attributes:!0,childList:!0,characterData:!1};if(w=new N(a),w.observe(t,l),B.offsetHeight<=i){var c=document.createElement("div");c.style.clear="both",t.appendChild(c)}}if(document.URL.indexOf("mail.google.com")>-1){var s=document.createElement("style");s.innerHTML=".iu { visibility: hidden }",(document.getElementsByTagName("head")[0]||o).appendChild(s)}else if(document.URL.indexOf("www.facebook.com")>-1){var d=document.getElementById("home_stream");d&&(d.style.webkitTransform="translateZ(0)")}y.fixedBackground||b||(t.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}function o(e,t,o,i){if(i||(i=1e3),u(t,o),1!=y.accelerationMax){var n=+new Date,r=n-L;if(r<y.accelerationDelta){var a=(1+30/r)/2;a>1&&(a=Math.min(a,y.accelerationMax),t*=a,o*=a)}L=+new Date}if(H.push({x:t,y:o,lastX:t<0?.99:-.99,lastY:o<0?.99:-.99,start:+new Date}),!T){var l=e===document.body,c=function(n){for(var r=+new Date,a=0,s=0,d=0;d<H.length;d++){var u=H[d],m=r-u.start,h=m>=y.animationTime,g=h?1:m/y.animationTime;y.pulseAlgorithm&&(g=f(g));var p=u.x*g-u.lastX>>0,w=u.y*g-u.lastY>>0;a+=p,s+=w,u.lastX+=p,u.lastY+=w,h&&(H.splice(d,1),d--)}l?window.scrollBy(a,s):(a&&(e.scrollLeft+=a),s&&(e.scrollTop+=s)),t||o||(H=[]),H.length?R(c,e,i/y.frameRate+1):T=!1};R(c,e,0),T=!0}}function i(e){k||t();var i=e.target,n=l(i);if(!n||e.defaultPrevented||d(p,"embed")||d(i,"embed")&&/\.pdf/i.test(i.src))return!0;var r=e.wheelDeltaX||0,a=e.wheelDeltaY||0;if(r||a||(a=e.wheelDelta||0),!y.touchpadSupport&&m(a))return!0;Math.abs(r)>1.2&&(r*=y.stepSize/120),Math.abs(a)>1.2&&(a*=y.stepSize/120),o(n,-r,-a),e.preventDefault()}function n(e){var t=e.target,i=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==C.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||i)return!0;if(d(t,"button")&&e.keyCode===C.spacebar)return!0;var n,r=0,a=0,c=l(p),s=c.clientHeight;switch(c==document.body&&(s=window.innerHeight),e.keyCode){case C.up:a=-y.arrowScroll;break;case C.down:a=y.arrowScroll;break;case C.spacebar:n=e.shiftKey?1:-1,a=-n*s*.9;break;case C.pageup:a=.9*-s;break;case C.pagedown:a=.9*s;break;case C.home:a=-c.scrollTop;break;case C.end:var u=c.scrollHeight-c.scrollTop-s;a=u>0?u+10:0;break;case C.left:r=-y.arrowScroll;break;case C.right:r=y.arrowScroll;break;default:return!0}o(c,r,a),e.preventDefault()}function r(e){p=e.target}function a(e,t){for(var o=e.length;o--;)D[z(e[o])]=t;return t}function l(e){var t=[],o=B.scrollHeight;do{var i=D[z(e)];if(i)return a(t,i);if(t.push(e),o===e.scrollHeight){if(!x||B.clientHeight+10<o)return a(t,document.body)}else if(e.clientHeight+10<e.scrollHeight&&(overflow=getComputedStyle(e,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return a(t,e)}while(e=e.parentNode)}function c(e,t,o){window.addEventListener(e,t,o||!1)}function s(e,t,o){window.removeEventListener(e,t,o||!1)}function d(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function u(e,t){e=e>0?1:-1,t=t>0?1:-1,E.x===e&&E.y===t||(E.x=e,E.y=t,H=[],L=0)}function m(e){if(e){e=Math.abs(e),S.push(e),S.shift(),clearTimeout(M);var t=S[0]==S[1]&&S[1]==S[2],o=h(S[0],120)&&h(S[1],120)&&h(S[2],120);return!(t||o)}}function h(e,t){return Math.floor(e/t)==e/t}function g(e){var t,o,i;return e*=y.pulseScale,e<1?t=e-(1-Math.exp(-e)):(o=Math.exp(-1),e-=1,i=1-Math.exp(-e),t=o+i*(1-o)),t*y.pulseNormalize}function f(e){return e>=1?1:e<=0?0:(1==y.pulseNormalize&&(y.pulseNormalize/=g(1)),g(e))}var p,w,v={frameRate:150,animationTime:700,stepSize:80,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},y=v,b=!1,x=!1,E={x:0,y:0},k=!1,B=document.documentElement,S=[120,120,120],C={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},H=[],T=!1,L=+new Date,D={};setInterval(function(){D={}},1e4);var M,z=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),R=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,o){window.setTimeout(e,o||1e3/60)}}(),N=window.MutationObserver||window.WebKitMutationObserver;c("mousedown",r),c("mousewheel",i),c("load",t)}})}(jQuery);